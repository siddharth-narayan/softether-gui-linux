(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();var g=Object.defineProperty,p=(e,t)=>{for(var r in t)g(e,r,{get:t[r],enumerable:!0})},w={};p(w,{convertFileSrc:()=>b,invoke:()=>f,transformCallback:()=>c});function L(){return window.crypto.getRandomValues(new Uint32Array(1))[0]}function c(e,t=!1){let r=L(),s=`_${r}`;return Object.defineProperty(window,s,{value:n=>(t&&Reflect.deleteProperty(window,s),e==null?void 0:e(n)),writable:!1,configurable:!0}),r}async function f(e,t={}){return new Promise((r,s)=>{let n=c(o=>{r(o),Reflect.deleteProperty(window,`_${i}`)},!0),i=c(o=>{s(o),Reflect.deleteProperty(window,`_${n}`)},!0);window.__TAURI_IPC__({cmd:e,callback:n,error:i,...t})})}function b(e,t="asset"){let r=encodeURIComponent(e);return navigator.userAgent.includes("Windows")?`https://${t}.localhost/${r}`:`${t}://localhost/${r}`}async function l(e){return f("tauri",e)}var _={};p(_,{Child:()=>m,Command:()=>u,EventEmitter:()=>a,open:()=>P});async function O(e,t,r=[],s){return typeof r=="object"&&Object.freeze(r),l({__tauriModule:"Shell",message:{cmd:"execute",program:t,args:r,options:s,onEventFn:c(e)}})}var a=class{constructor(){this.eventListeners=Object.create(null)}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}on(e,t){return e in this.eventListeners?this.eventListeners[e].push(t):this.eventListeners[e]=[t],this}once(e,t){let r=(...s)=>{this.removeListener(e,r),t(...s)};return this.addListener(e,r)}off(e,t){return e in this.eventListeners&&(this.eventListeners[e]=this.eventListeners[e].filter(r=>r!==t)),this}removeAllListeners(e){return e?delete this.eventListeners[e]:this.eventListeners=Object.create(null),this}emit(e,...t){if(e in this.eventListeners){let r=this.eventListeners[e];for(let s of r)s(...t);return!0}return!1}listenerCount(e){return e in this.eventListeners?this.eventListeners[e].length:0}prependListener(e,t){return e in this.eventListeners?this.eventListeners[e].unshift(t):this.eventListeners[e]=[t],this}prependOnceListener(e,t){let r=(...s)=>{this.removeListener(e,r),t(...s)};return this.prependListener(e,r)}},m=class{constructor(e){this.pid=e}async write(e){return l({__tauriModule:"Shell",message:{cmd:"stdinWrite",pid:this.pid,buffer:typeof e=="string"?e:Array.from(e)}})}async kill(){return l({__tauriModule:"Shell",message:{cmd:"killChild",pid:this.pid}})}},u=class extends a{constructor(e,t=[],r){super(),this.stdout=new a,this.stderr=new a,this.program=e,this.args=typeof t=="string"?[t]:t,this.options=r!=null?r:{}}static sidecar(e,t=[],r){let s=new u(e,t,r);return s.options.sidecar=!0,s}async spawn(){return O(e=>{switch(e.event){case"Error":this.emit("error",e.payload);break;case"Terminated":this.emit("close",e.payload);break;case"Stdout":this.stdout.emit("data",e.payload);break;case"Stderr":this.stderr.emit("data",e.payload);break}},this.program,this.args,this.options).then(e=>new m(e))}async execute(){return new Promise((e,t)=>{this.on("error",t);let r=[],s=[];this.stdout.on("data",n=>{r.push(n)}),this.stderr.on("data",n=>{s.push(n)}),this.on("close",n=>{e({code:n.code,signal:n.signal,stdout:r.join(`
`),stderr:s.join(`
`)})}),this.spawn().catch(t)})}};async function P(e,t){return l({__tauriModule:"Shell",message:{cmd:"open",path:e,with:t}})}let v,d,y;const h=new u("sh");async function S(){y.write(v.value+`
`)}window.addEventListener("DOMContentLoaded",async()=>{var e;v=document.querySelector("#greet-input"),d=document.querySelector("#greet-msg"),(e=document.querySelector("#greet-button"))==null||e.addEventListener("click",()=>S()),y=await h.spawn(),h.stdout.on("data",function(t){d.textContent=t,console.log(t)})});
